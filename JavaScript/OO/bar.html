<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script type="text/javascript" src="./bower_components/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="./bower_components/handlebars/handlebars.min.js"></script>
        <script id="viewer_template", type="text/x-handlebars-template">
            <p>{{value}}</p>
        </script>
        <script id="editor_template", type="text/x-handlebars-template">
            <input type="text" value="{{value}}"></input>
            <button>Save</button>
        </script>
        <script>
            $(function() {
                var templates = {
                    viewer: Handlebars.compile($("#viewer_template").html()),
                    editor: Handlebars.compile($("#editor_template").html())
                };
                var value = 'クリックして編集';
                var target = $("#target").html(templates.viewer({value: value}))
                .on('click', 'p', function(event) {
                    $(event.delegateTarget).html(templates.editor({value: value}));
                }).on('click', 'button', function(event) {
                    value = $(event.delegateTarget).find('input').val();
                    $(event.delegateTarget).html(templates.viewer({value: value}));
                });
            });
        </script>
    </head>
    <body>
        <div id="target"></div>
    </body>
</html>
